<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Cubical.Tactics.FunctorSolver.Reflection</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--safe</a> <a id="20" class="Symbol">#-}</a>

<a id="25" class="Keyword">module</a> <a id="32" href="Cubical.Tactics.FunctorSolver.Reflection.html" class="Module">Cubical.Tactics.FunctorSolver.Reflection</a> <a id="73" class="Keyword">where</a>

<a id="80" class="Keyword">open</a> <a id="85" class="Keyword">import</a> <a id="92" href="Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a>

<a id="121" class="Keyword">open</a> <a id="126" class="Keyword">import</a> <a id="133" href="Agda.Builtin.Reflection.html" class="Module">Agda.Builtin.Reflection</a> <a id="157" class="Keyword">hiding</a> <a id="164" class="Symbol">(</a><a id="165" href="Agda.Builtin.Reflection.html#5064" class="Function">Type</a><a id="169" class="Symbol">)</a>
<a id="171" class="Keyword">open</a> <a id="176" class="Keyword">import</a> <a id="183" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a>

<a id="204" class="Keyword">open</a> <a id="209" class="Keyword">import</a> <a id="216" href="Cubical.Data.Bool.html" class="Module">Cubical.Data.Bool</a>
<a id="234" class="Keyword">open</a> <a id="239" class="Keyword">import</a> <a id="246" href="Cubical.Data.List.html" class="Module">Cubical.Data.List</a>
<a id="264" class="Keyword">open</a> <a id="269" class="Keyword">import</a> <a id="276" href="Cubical.Data.Maybe.html" class="Module">Cubical.Data.Maybe</a>
<a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="Cubical.Data.Sigma.html" class="Module">Cubical.Data.Sigma</a>
<a id="326" class="Keyword">open</a> <a id="331" class="Keyword">import</a> <a id="338" href="Cubical.Data.Unit.html" class="Module">Cubical.Data.Unit</a>

<a id="357" class="Keyword">open</a> <a id="362" class="Keyword">import</a> <a id="369" href="Cubical.Reflection.Base.html" class="Module">Cubical.Reflection.Base</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="Cubical.Tactics.FunctorSolver.Solver.html" class="Module">Cubical.Tactics.FunctorSolver.Solver</a>
<a id="442" class="Keyword">open</a> <a id="447" class="Keyword">import</a> <a id="454" href="Cubical.Tactics.Reflection.html" class="Module">Cubical.Tactics.Reflection</a>

<a id="482" class="Keyword">open</a> <a id="487" class="Keyword">import</a> <a id="494" href="Cubical.Categories.Category.html" class="Module">Cubical.Categories.Category</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="Cubical.Categories.Instances.Free.Category.html" class="Module">Cubical.Categories.Instances.Free.Category</a>
<a id="577" class="Keyword">open</a> <a id="582" class="Keyword">import</a> <a id="589" href="Cubical.Categories.Instances.Free.Functor.html" class="Module">Cubical.Categories.Instances.Free.Functor</a>
<a id="631" class="Keyword">open</a> <a id="636" class="Keyword">import</a> <a id="643" href="Cubical.Categories.Functor.html" class="Module">Cubical.Categories.Functor</a>

<a id="671" class="Keyword">private</a>
  <a id="681" class="Keyword">variable</a>
    <a id="694" href="Cubical.Tactics.FunctorSolver.Reflection.html#694" class="Generalizable">ℓ</a> <a id="696" href="Cubical.Tactics.FunctorSolver.Reflection.html#696" class="Generalizable">ℓ&#39;</a> <a id="699" class="Symbol">:</a> <a id="701" href="Agda.Primitive.html#742" class="Postulate">Level</a>

<a id="708" class="Keyword">module</a> <a id="ReflectionSolver"></a><a id="715" href="Cubical.Tactics.FunctorSolver.Reflection.html#715" class="Module">ReflectionSolver</a> <a id="732" class="Keyword">where</a>
  <a id="740" class="Keyword">module</a> <a id="747" href="Cubical.Tactics.FunctorSolver.Reflection.html#747" class="Module">_</a> <a id="749" class="Symbol">(</a><a id="750" href="Cubical.Tactics.FunctorSolver.Reflection.html#750" class="Bound">domain</a> <a id="757" class="Symbol">:</a> <a id="759" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="763" class="Symbol">)</a> <a id="765" class="Symbol">(</a><a id="766" href="Cubical.Tactics.FunctorSolver.Reflection.html#766" class="Bound">codomain</a> <a id="775" class="Symbol">:</a> <a id="777" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="781" class="Symbol">)</a> <a id="783" class="Symbol">(</a><a id="784" href="Cubical.Tactics.FunctorSolver.Reflection.html#784" class="Bound">functor</a> <a id="792" class="Symbol">:</a> <a id="794" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a><a id="798" class="Symbol">)</a> <a id="800" class="Keyword">where</a>
    <a id="810" class="Comment">-- the two implicit levels and the category</a>
    <a id="858" class="Keyword">pattern</a> <a id="866" href="Cubical.Tactics.FunctorSolver.Reflection.html#866" class="InductiveConstructor">category-args</a> <a id="880" href="Cubical.Tactics.FunctorSolver.Reflection.html#906" class="Bound">xs</a> <a id="883" class="Symbol">=</a>
      <a id="891" class="Symbol">_</a> <a id="893" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="896" class="Symbol">_</a> <a id="898" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="901" class="Symbol">_</a> <a id="903" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="906" href="Cubical.Tactics.FunctorSolver.Reflection.html#906" class="Bound">xs</a>

    <a id="914" class="Comment">-- the four implicit levels, the two implicit categories and the functor</a>
    <a id="991" class="Keyword">pattern</a> <a id="999" href="Cubical.Tactics.FunctorSolver.Reflection.html#999" class="InductiveConstructor">functor-args</a> <a id="1012" href="Cubical.Tactics.FunctorSolver.Reflection.html#1061" class="Bound">functor</a> <a id="1020" href="Cubical.Tactics.FunctorSolver.Reflection.html#1072" class="Bound">xs</a> <a id="1023" class="Symbol">=</a>
      <a id="1031" class="Symbol">_</a> <a id="1033" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1036" class="Symbol">_</a> <a id="1038" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1041" class="Symbol">_</a> <a id="1043" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1046" class="Symbol">_</a> <a id="1048" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1051" class="Symbol">_</a> <a id="1053" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1056" class="Symbol">_</a> <a id="1058" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1061" href="Cubical.Tactics.FunctorSolver.Reflection.html#1061" class="Bound">functor</a> <a id="1069" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="1072" href="Cubical.Tactics.FunctorSolver.Reflection.html#1072" class="Bound">xs</a>

    <a id="1080" class="Keyword">pattern</a> <a id="1088" href="Cubical.Tactics.FunctorSolver.Reflection.html#1088" class="InductiveConstructor">“id”</a> <a id="1093" class="Symbol">=</a>
      <a id="1101" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="1105" class="Symbol">(</a><a id="1106" class="Keyword">quote</a> <a id="1112" href="Cubical.Categories.Category.Base.html#501" class="Field">Category.id</a><a id="1123" class="Symbol">)</a> <a id="1125" class="Symbol">(</a><a id="1126" href="Cubical.Tactics.FunctorSolver.Reflection.html#866" class="InductiveConstructor">category-args</a> <a id="1140" class="Symbol">(_</a> <a id="1143" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1146" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1148" class="Symbol">))</a>

    <a id="1156" class="Keyword">pattern</a> <a id="1164" href="Cubical.Tactics.FunctorSolver.Reflection.html#1164" class="InductiveConstructor">“⋆”</a> <a id="1168" href="Cubical.Tactics.FunctorSolver.Reflection.html#1236" class="Bound">f</a> <a id="1170" href="Cubical.Tactics.FunctorSolver.Reflection.html#1241" class="Bound">g</a> <a id="1172" class="Symbol">=</a>
      <a id="1180" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="1184" class="Symbol">(</a><a id="1185" class="Keyword">quote</a> <a id="1191" href="Cubical.Categories.Category.Base.html#533" class="Field Operator">Category._⋆_</a><a id="1203" class="Symbol">)</a> <a id="1205" class="Symbol">(</a><a id="1206" href="Cubical.Tactics.FunctorSolver.Reflection.html#866" class="InductiveConstructor">category-args</a> <a id="1220" class="Symbol">(_</a> <a id="1223" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1226" class="Symbol">_</a> <a id="1228" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1231" class="Symbol">_</a> <a id="1233" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1236" href="Cubical.Tactics.FunctorSolver.Reflection.html#1236" class="Bound">f</a> <a id="1238" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="1241" href="Cubical.Tactics.FunctorSolver.Reflection.html#1241" class="Bound">g</a> <a id="1243" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="1246" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1248" class="Symbol">))</a>

    <a id="1256" class="Keyword">pattern</a> <a id="1264" href="Cubical.Tactics.FunctorSolver.Reflection.html#1264" class="InductiveConstructor">“F”</a> <a id="1268" href="Cubical.Tactics.FunctorSolver.Reflection.html#1326" class="Bound">functor</a> <a id="1276" href="Cubical.Tactics.FunctorSolver.Reflection.html#1345" class="Bound">f</a> <a id="1278" class="Symbol">=</a>
      <a id="1286" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="1290" class="Symbol">(</a><a id="1291" class="Keyword">quote</a> <a id="1297" href="Cubical.Categories.Functor.Base.html#627" class="Field">Functor.F-hom</a><a id="1310" class="Symbol">)</a> <a id="1312" class="Symbol">(</a><a id="1313" href="Cubical.Tactics.FunctorSolver.Reflection.html#999" class="InductiveConstructor">functor-args</a> <a id="1326" href="Cubical.Tactics.FunctorSolver.Reflection.html#1326" class="Bound">functor</a> <a id="1334" class="Symbol">(_</a> <a id="1337" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1340" class="Symbol">_</a> <a id="1342" href="Cubical.Reflection.Base.html#814" class="InductiveConstructor Operator">h∷</a> <a id="1345" href="Cubical.Tactics.FunctorSolver.Reflection.html#1345" class="Bound">f</a> <a id="1347" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="1350" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1352" class="Symbol">))</a>

    <a id="1360" class="Comment">-- Parse the input into an exp</a>
    <a id="1395" href="Cubical.Tactics.FunctorSolver.Reflection.html#1395" class="Function">buildDomExpression</a> <a id="1414" class="Symbol">:</a> <a id="1416" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1421" class="Symbol">→</a> <a id="1423" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="1432" href="Cubical.Tactics.FunctorSolver.Reflection.html#1395" class="Function">buildDomExpression</a> <a id="1451" href="Cubical.Tactics.FunctorSolver.Reflection.html#1088" class="InductiveConstructor">“id”</a> <a id="1456" class="Symbol">=</a> <a id="1458" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="1462" class="Symbol">(</a><a id="1463" class="Keyword">quote</a> <a id="1469" href="Cubical.Categories.Instances.Free.Category.Base.html#1009" class="InductiveConstructor">FreeCategory.idₑ</a><a id="1485" class="Symbol">)</a> <a id="1487" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
    <a id="1494" href="Cubical.Tactics.FunctorSolver.Reflection.html#1395" class="Function">buildDomExpression</a> <a id="1513" class="Symbol">(</a><a id="1514" href="Cubical.Tactics.FunctorSolver.Reflection.html#1164" class="InductiveConstructor">“⋆”</a> <a id="1518" href="Cubical.Tactics.FunctorSolver.Reflection.html#1518" class="Bound">f</a> <a id="1520" href="Cubical.Tactics.FunctorSolver.Reflection.html#1520" class="Bound">g</a><a id="1521" class="Symbol">)</a> <a id="1523" class="Symbol">=</a>
      <a id="1531" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="1535" class="Symbol">(</a><a id="1536" class="Keyword">quote</a> <a id="1542" href="Cubical.Categories.Instances.Free.Category.Base.html#1038" class="InductiveConstructor Operator">FreeCategory._⋆ₑ_</a><a id="1559" class="Symbol">)</a>
          <a id="1571" class="Symbol">(</a><a id="1572" href="Cubical.Tactics.FunctorSolver.Reflection.html#1395" class="Function">buildDomExpression</a> <a id="1591" href="Cubical.Tactics.FunctorSolver.Reflection.html#1518" class="Bound">f</a> <a id="1593" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="1596" href="Cubical.Tactics.FunctorSolver.Reflection.html#1395" class="Function">buildDomExpression</a> <a id="1615" href="Cubical.Tactics.FunctorSolver.Reflection.html#1520" class="Bound">g</a> <a id="1617" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="1620" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1622" class="Symbol">)</a>
    <a id="1628" href="Cubical.Tactics.FunctorSolver.Reflection.html#1395" class="CatchallClause Function">buildDomExpression</a><a id="1646" class="CatchallClause"> </a><a id="1647" href="Cubical.Tactics.FunctorSolver.Reflection.html#1647" class="CatchallClause Bound">f</a> <a id="1649" class="Symbol">=</a> <a id="1651" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="1655" class="Symbol">(</a><a id="1656" class="Keyword">quote</a> <a id="1662" href="Cubical.Categories.Instances.Free.Category.Base.html#964" class="InductiveConstructor Operator">FreeCategory.↑_</a><a id="1677" class="Symbol">)</a> <a id="1679" class="Symbol">(</a><a id="1680" href="Cubical.Tactics.FunctorSolver.Reflection.html#1647" class="Bound">f</a> <a id="1682" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="1685" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1687" class="Symbol">)</a>

    <a id="1694" href="Cubical.Tactics.FunctorSolver.Reflection.html#1694" class="Function">buildCodExpression</a> <a id="1713" class="Symbol">:</a> <a id="1715" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="1720" class="Symbol">→</a> <a id="1722" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="1725" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
    <a id="1734" href="Cubical.Tactics.FunctorSolver.Reflection.html#1694" class="Function">buildCodExpression</a> <a id="1753" href="Cubical.Tactics.FunctorSolver.Reflection.html#1088" class="InductiveConstructor">“id”</a> <a id="1758" class="Symbol">=</a> <a id="1760" href="Agda.Builtin.Reflection.html#8645" class="Postulate">returnTC</a> <a id="1769" class="Symbol">(</a><a id="1770" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="1774" class="Symbol">(</a><a id="1775" class="Keyword">quote</a> <a id="1781" href="Cubical.Categories.Instances.Free.Functor.html#1571" class="InductiveConstructor">FreeFunctor.idₑ</a><a id="1796" class="Symbol">)</a> <a id="1798" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1800" class="Symbol">)</a>
    <a id="1806" href="Cubical.Tactics.FunctorSolver.Reflection.html#1694" class="Function">buildCodExpression</a> <a id="1825" class="Symbol">(</a><a id="1826" href="Cubical.Tactics.FunctorSolver.Reflection.html#1164" class="InductiveConstructor">“⋆”</a> <a id="1830" href="Cubical.Tactics.FunctorSolver.Reflection.html#1830" class="Bound">f</a> <a id="1832" href="Cubical.Tactics.FunctorSolver.Reflection.html#1832" class="Bound">g</a><a id="1833" class="Symbol">)</a> <a id="1835" class="Symbol">=</a>
      <a id="1843" class="Symbol">((λ</a> <a id="1847" href="Cubical.Tactics.FunctorSolver.Reflection.html#1847" class="Bound">fe</a> <a id="1850" href="Cubical.Tactics.FunctorSolver.Reflection.html#1850" class="Bound">ge</a> <a id="1853" class="Symbol">→</a> <a id="1855" class="Symbol">(</a><a id="1856" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="1860" class="Symbol">(</a><a id="1861" class="Keyword">quote</a> <a id="1867" href="Cubical.Categories.Instances.Free.Functor.html#1598" class="InductiveConstructor Operator">FreeFunctor._⋆ₑ_</a><a id="1883" class="Symbol">)</a> <a id="1885" class="Symbol">(</a><a id="1886" href="Cubical.Tactics.FunctorSolver.Reflection.html#1847" class="Bound">fe</a> <a id="1889" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="1892" href="Cubical.Tactics.FunctorSolver.Reflection.html#1850" class="Bound">ge</a> <a id="1895" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="1898" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="1900" class="Symbol">)))</a>
        <a id="1912" href="Cubical.Tactics.Reflection.html#532" class="Function Operator">&lt;$&gt;</a> <a id="1916" href="Cubical.Tactics.FunctorSolver.Reflection.html#1694" class="Function">buildCodExpression</a> <a id="1935" href="Cubical.Tactics.FunctorSolver.Reflection.html#1830" class="Bound">f</a><a id="1936" class="Symbol">)</a>
        <a id="1946" href="Cubical.Tactics.Reflection.html#637" class="Function Operator">&lt;*&gt;</a> <a id="1950" href="Cubical.Tactics.FunctorSolver.Reflection.html#1694" class="Function">buildCodExpression</a> <a id="1969" href="Cubical.Tactics.FunctorSolver.Reflection.html#1832" class="Bound">g</a>
    <a id="1975" href="Cubical.Tactics.FunctorSolver.Reflection.html#1694" class="Function">buildCodExpression</a> <a id="1994" class="Symbol">(</a><a id="1995" href="Cubical.Tactics.FunctorSolver.Reflection.html#1264" class="InductiveConstructor">“F”</a> <a id="1999" href="Cubical.Tactics.FunctorSolver.Reflection.html#1999" class="Bound">functor&#39;</a> <a id="2008" href="Cubical.Tactics.FunctorSolver.Reflection.html#2008" class="Bound">f</a><a id="2009" class="Symbol">)</a> <a id="2011" class="Symbol">=</a> <a id="2013" class="Keyword">do</a>
      <a id="2022" href="Agda.Builtin.Reflection.html#8775" class="Postulate">unify</a> <a id="2028" href="Cubical.Tactics.FunctorSolver.Reflection.html#784" class="Bound">functor</a> <a id="2036" href="Cubical.Tactics.FunctorSolver.Reflection.html#1999" class="Bound">functor&#39;</a>
      <a id="2051" href="Agda.Builtin.Reflection.html#8645" class="Postulate">returnTC</a> <a id="2060" class="Symbol">(</a><a id="2061" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="2065" class="Symbol">(</a><a id="2066" class="Keyword">quote</a> <a id="2072" href="Cubical.Categories.Instances.Free.Functor.html#1652" class="InductiveConstructor Operator">FreeFunctor.F⟪_⟫</a><a id="2088" class="Symbol">)</a> <a id="2090" class="Symbol">(</a><a id="2091" href="Cubical.Tactics.FunctorSolver.Reflection.html#1395" class="Function">buildDomExpression</a> <a id="2110" href="Cubical.Tactics.FunctorSolver.Reflection.html#2008" class="Bound">f</a> <a id="2112" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="2115" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2117" class="Symbol">))</a>
    <a id="2124" href="Cubical.Tactics.FunctorSolver.Reflection.html#1694" class="CatchallClause Function">buildCodExpression</a><a id="2142" class="CatchallClause"> </a><a id="2143" href="Cubical.Tactics.FunctorSolver.Reflection.html#2143" class="CatchallClause Bound">f</a> <a id="2145" class="Symbol">=</a> <a id="2147" href="Agda.Builtin.Reflection.html#8645" class="Postulate">returnTC</a> <a id="2156" class="Symbol">(</a><a id="2157" href="Agda.Builtin.Reflection.html#5194" class="InductiveConstructor">con</a> <a id="2161" class="Symbol">(</a><a id="2162" class="Keyword">quote</a> <a id="2168" href="Cubical.Categories.Instances.Free.Functor.html#1529" class="InductiveConstructor Operator">FreeFunctor.↑_</a><a id="2182" class="Symbol">)</a> <a id="2184" class="Symbol">(</a><a id="2185" href="Cubical.Tactics.FunctorSolver.Reflection.html#2143" class="Bound">f</a> <a id="2187" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="2190" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2192" class="Symbol">))</a>

  <a id="ReflectionSolver.solve-macro"></a><a id="2198" href="Cubical.Tactics.FunctorSolver.Reflection.html#2198" class="Function">solve-macro</a> <a id="2210" class="Symbol">:</a> <a id="2212" href="Agda.Builtin.Bool.html#173" class="Datatype">Bool</a> <a id="2217" class="Comment">-- ^ whether to give the more detailed but messier error</a>
                     <a id="2295" class="Comment">--   message on failure</a>
              <a id="2333" class="Symbol">→</a> <a id="2335" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2340" class="Comment">-- ^ The term denoting the domain category</a>
              <a id="2397" class="Symbol">→</a> <a id="2399" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2404" class="Comment">-- ^ The term denoting the codomain category</a>
              <a id="2463" class="Symbol">→</a> <a id="2465" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2470" class="Comment">-- ^ The term denoting the functor</a>
              <a id="2519" class="Symbol">→</a> <a id="2521" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2526" class="Comment">-- ^ The hole whose goal should be an equality between</a>
                     <a id="2602" class="Comment">--   morphisms in the codomain category</a>
              <a id="2656" class="Symbol">→</a> <a id="2658" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2661" href="Cubical.Data.Unit.Base.html#172" class="Record">Unit</a>
  <a id="2668" href="Cubical.Tactics.FunctorSolver.Reflection.html#2198" class="Function">solve-macro</a> <a id="2680" href="Cubical.Tactics.FunctorSolver.Reflection.html#2680" class="Bound">b</a> <a id="2682" href="Cubical.Tactics.FunctorSolver.Reflection.html#2682" class="Bound">dom</a> <a id="2686" href="Cubical.Tactics.FunctorSolver.Reflection.html#2686" class="Bound">cod</a> <a id="2690" href="Cubical.Tactics.FunctorSolver.Reflection.html#2690" class="Bound">fctor</a> <a id="2696" class="Symbol">=</a>
    <a id="2702" href="Cubical.Tactics.Reflection.html#2897" class="Function">equation-solver</a>
      <a id="2724" class="Symbol">(</a><a id="2725" class="Keyword">quote</a> <a id="2731" href="Cubical.Categories.Category.Base.html#501" class="Field">Category.id</a> <a id="2743" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2745" class="Keyword">quote</a> <a id="2751" href="Cubical.Categories.Category.Base.html#533" class="Field Operator">Category._⋆_</a> <a id="2764" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2766" class="Keyword">quote</a> <a id="2772" href="Cubical.Categories.Functor.Base.html#627" class="Field">Functor.F-hom</a> <a id="2786" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="2788" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="2790" class="Symbol">)</a>
      <a id="2798" href="Cubical.Tactics.FunctorSolver.Reflection.html#2833" class="Function">mk-call</a>
      <a id="2812" href="Cubical.Tactics.FunctorSolver.Reflection.html#2680" class="Bound">b</a>
      <a id="2820" class="Keyword">where</a>

      <a id="2833" href="Cubical.Tactics.FunctorSolver.Reflection.html#2833" class="Function">mk-call</a> <a id="2841" class="Symbol">:</a> <a id="2843" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2848" class="Symbol">→</a> <a id="2850" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="2855" class="Symbol">→</a> <a id="2857" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="2860" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a>
      <a id="2871" href="Cubical.Tactics.FunctorSolver.Reflection.html#2833" class="Function">mk-call</a> <a id="2879" href="Cubical.Tactics.FunctorSolver.Reflection.html#2879" class="Bound">lhs</a> <a id="2883" href="Cubical.Tactics.FunctorSolver.Reflection.html#2883" class="Bound">rhs</a> <a id="2887" class="Symbol">=</a> <a id="2889" class="Keyword">do</a>
        <a id="2900" href="Cubical.Tactics.FunctorSolver.Reflection.html#2900" class="Bound">l-e</a> <a id="2904" href="Cubical.Reflection.Base.html#302" class="Function Operator">←</a> <a id="2906" href="Cubical.Tactics.FunctorSolver.Reflection.html#1694" class="Function">buildCodExpression</a> <a id="2925" href="Cubical.Tactics.FunctorSolver.Reflection.html#2682" class="Bound">dom</a> <a id="2929" href="Cubical.Tactics.FunctorSolver.Reflection.html#2686" class="Bound">cod</a> <a id="2933" href="Cubical.Tactics.FunctorSolver.Reflection.html#2690" class="Bound">fctor</a> <a id="2939" href="Cubical.Tactics.FunctorSolver.Reflection.html#2879" class="Bound">lhs</a>
        <a id="2951" href="Cubical.Tactics.FunctorSolver.Reflection.html#2951" class="Bound">r-e</a> <a id="2955" href="Cubical.Reflection.Base.html#302" class="Function Operator">←</a> <a id="2957" href="Cubical.Tactics.FunctorSolver.Reflection.html#1694" class="Function">buildCodExpression</a> <a id="2976" href="Cubical.Tactics.FunctorSolver.Reflection.html#2682" class="Bound">dom</a> <a id="2980" href="Cubical.Tactics.FunctorSolver.Reflection.html#2686" class="Bound">cod</a> <a id="2984" href="Cubical.Tactics.FunctorSolver.Reflection.html#2690" class="Bound">fctor</a> <a id="2990" href="Cubical.Tactics.FunctorSolver.Reflection.html#2883" class="Bound">rhs</a>
        <a id="3002" class="Comment">-- unify l-e r-e</a>
        <a id="3027" href="Agda.Builtin.Reflection.html#8645" class="Postulate">returnTC</a> <a id="3036" class="Symbol">(</a><a id="3037" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="3041" class="Symbol">(</a><a id="3042" class="Keyword">quote</a> <a id="3048" href="Cubical.Tactics.FunctorSolver.Solver.html#1770" class="Function">Eval.solve</a><a id="3058" class="Symbol">)</a> <a id="3060" class="Symbol">(</a>
          <a id="3072" href="Cubical.Tactics.FunctorSolver.Reflection.html#2682" class="Bound">dom</a> <a id="3076" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="3079" href="Cubical.Tactics.FunctorSolver.Reflection.html#2686" class="Bound">cod</a> <a id="3083" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="3086" href="Cubical.Tactics.FunctorSolver.Reflection.html#2690" class="Bound">fctor</a> <a id="3092" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a>
          <a id="3105" href="Cubical.Tactics.FunctorSolver.Reflection.html#2900" class="Bound">l-e</a> <a id="3109" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="3112" href="Cubical.Tactics.FunctorSolver.Reflection.html#2951" class="Bound">r-e</a> <a id="3116" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="3119" href="Agda.Builtin.Reflection.html#5251" class="InductiveConstructor">def</a> <a id="3123" class="Symbol">(</a><a id="3124" class="Keyword">quote</a> <a id="3130" href="Cubical.Foundations.Prelude.html#915" class="Function">refl</a><a id="3134" class="Symbol">)</a> <a id="3136" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="3139" href="Cubical.Reflection.Base.html#784" class="InductiveConstructor Operator">v∷</a> <a id="3142" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a><a id="3144" class="Symbol">))</a>
<a id="3147" class="Keyword">macro</a>
  <a id="solveFunctor!"></a><a id="3155" href="Cubical.Tactics.FunctorSolver.Reflection.html#3155" class="Function">solveFunctor!</a> <a id="3169" class="Symbol">:</a> <a id="3171" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3176" class="Symbol">→</a> <a id="3178" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3183" class="Symbol">→</a> <a id="3185" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3190" class="Symbol">→</a> <a id="3192" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3197" class="Symbol">→</a> <a id="3199" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3202" class="Symbol">_</a>
  <a id="3206" href="Cubical.Tactics.FunctorSolver.Reflection.html#3155" class="Function">solveFunctor!</a> <a id="3220" class="Symbol">=</a> <a id="3222" href="Cubical.Tactics.FunctorSolver.Reflection.html#2198" class="Function">ReflectionSolver.solve-macro</a> <a id="3251" href="Agda.Builtin.Bool.html#192" class="InductiveConstructor">false</a>

  <a id="solveFunctorDebug!"></a><a id="3260" href="Cubical.Tactics.FunctorSolver.Reflection.html#3260" class="Function">solveFunctorDebug!</a> <a id="3279" class="Symbol">:</a> <a id="3281" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3286" class="Symbol">→</a> <a id="3288" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3293" class="Symbol">→</a> <a id="3295" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3300" class="Symbol">→</a> <a id="3302" href="Agda.Builtin.Reflection.html#4993" class="Datatype">Term</a> <a id="3307" class="Symbol">→</a> <a id="3309" href="Agda.Builtin.Reflection.html#8602" class="Postulate">TC</a> <a id="3312" class="Symbol">_</a>
  <a id="3316" href="Cubical.Tactics.FunctorSolver.Reflection.html#3260" class="Function">solveFunctorDebug!</a> <a id="3335" class="Symbol">=</a> <a id="3337" href="Cubical.Tactics.FunctorSolver.Reflection.html#2198" class="Function">ReflectionSolver.solve-macro</a> <a id="3366" href="Agda.Builtin.Bool.html#198" class="InductiveConstructor">true</a>
</pre></body></html>